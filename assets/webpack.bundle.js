!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=51)}([function(e,t,n){!function(e,n){n(t)}(0,function(e){function t(e,t,n){this.nodeName=e,this.attributes=t,this.children=n,this.key=t&&t.key}function n(e,n){var r,o,i,a,s;for(s=arguments.length;s-- >2;)M.push(arguments[s]);for(n&&n.children&&(M.length||M.push(n.children),delete n.children);M.length;)if((i=M.pop())instanceof Array)for(s=i.length;s--;)M.push(i[s]);else null!=i&&!0!==i&&!1!==i&&("number"==typeof i&&(i=String(i)),a="string"==typeof i,a&&o?r[r.length-1]+=i:((r||(r=[])).push(i),o=a));var u=new t(e,n||void 0,r||B);return U.vnode&&U.vnode(u),u}function r(e,t){if(t)for(var n in t)e[n]=t[n];return e}function o(e){return r({},e)}function i(e,t){for(var n=t.split("."),r=0;r<n.length&&e;r++)e=e[n[r]];return e}function a(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}function c(e,t){return n(e.nodeName,r(o(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function l(e,t,n){var r=t.split(".");return function(t){for(var o=t&&t.target||this,a={},u=a,c=s(n)?i(t,n):o.nodeName?o.type.match(/^che|rad/)?o.checked:o.value:t,l=0;l<r.length-1;l++)u=u[r[l]]||(u[r[l]]=!l&&e.state[r[l]]||{});u[r[l]]=c,e.setState(a)}}function f(e){!e._dirty&&(e._dirty=!0)&&1==J.push(e)&&(U.debounceRendering||K)(d)}function d(){var e,t=J;for(J=[];e=t.pop();)e._dirty&&A(e)}function p(e){var t=e&&e.nodeName;return t&&a(t)&&!(t.prototype&&t.prototype.render)}function h(e,t){return e.nodeName(v(e),t||z)}function b(e,t){return s(t)?e instanceof Text:s(t.nodeName)?!e._componentConstructor&&y(e,t.nodeName):a(t.nodeName)?!e._componentConstructor||e._componentConstructor===t.nodeName||p(t):void 0}function y(e,t){return e.normalizedNodeName===t||H(e.nodeName)===H(t)}function v(e){var t=o(e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function m(e,t,n,r,o){if("className"===t&&(t="class"),"class"===t&&r&&"object"==typeof r&&(r=u(r)),"key"===t);else if("class"!==t||o)if("style"===t){if((!r||s(r)||s(n))&&(e.style.cssText=r||""),r&&"object"==typeof r){if(!s(n))for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"!=typeof r[i]||Y[i]?r[i]:r[i]+"px"}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var c=e._listeners||(e._listeners={});t=H(t.substring(2)),r?c[t]||e.addEventListener(t,w,!!V[t]):c[t]&&e.removeEventListener(t,w,!!V[t]),c[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e)g(e,t,null==r?"":r),null!=r&&!1!==r||e.removeAttribute(t);else{var l=o&&t.match(/^xlink\:?(.+)/);null==r||!1===r?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",H(l[1])):e.removeAttribute(t):"object"==typeof r||a(r)||(l?e.setAttributeNS("http://www.w3.org/1999/xlink",H(l[1]),r):e.setAttribute(t,r))}else e.className=r||""}function g(e,t,n){try{e[t]=n}catch(e){}}function w(e){return this._listeners[e.type](U.event&&U.event(e)||e)}function O(e){if(_(e),e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||H(e.nodeName);(q[t]||(q[t]=[])).push(e)}}function E(e,t){var n=H(e),r=q[n]&&q[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return r.normalizedNodeName=n,r}function T(){for(var e;e=Q.pop();)U.afterMount&&U.afterMount(e),e.componentDidMount&&e.componentDidMount()}function j(e,t,n,r,o,i){$++||(Z=o&&void 0!==o.ownerSVGElement,ee=e&&!(X in e));var a=P(e,t,n,r);return o&&a.parentNode!==o&&o.appendChild(a),--$||(ee=!1,i||T()),a}function P(e,t,n,r){for(var o=t&&t.attributes&&t.attributes.ref;p(t);)t=h(t,n);if(null==t&&(t=""),s(t))return e&&e instanceof Text&&e.parentNode?e.nodeValue!=t&&(e.nodeValue=t):(e&&N(e),e=document.createTextNode(t)),e;if(a(t.nodeName))return W(e,t,n,r);var i=e,u=String(t.nodeName),c=Z,l=t.children;if(Z="svg"===u||"foreignObject"!==u&&Z,e){if(!y(e,u)){for(i=E(u,Z);e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),N(e)}}else i=E(u,Z);var f=i.firstChild,d=i[X];if(!d){i[X]=d={};for(var b=i.attributes,v=b.length;v--;)d[b[v].name]=b[v].value}return!ee&&l&&1===l.length&&"string"==typeof l[0]&&f&&f instanceof Text&&!f.nextSibling?f.nodeValue!=l[0]&&(f.nodeValue=l[0]):(l&&l.length||f)&&S(i,l,n,r,!!d.dangerouslySetInnerHTML),x(i,t.attributes,d),o&&(d.ref=o)(i),Z=c,i}function S(e,t,n,r,o){var i,a,s,u,c=e.childNodes,l=[],f={},d=0,p=0,h=c.length,y=0,v=t&&t.length;if(h)for(var m=0;m<h;m++){var g=c[m],w=g[X],O=v?(a=g._component)?a.__key:w?w.key:null:null;null!=O?(d++,f[O]=g):(ee||o||w||g instanceof Text)&&(l[y++]=g)}if(v)for(var m=0;m<v;m++){s=t[m],u=null;var O=s.key;if(null!=O)d&&O in f&&(u=f[O],f[O]=void 0,d--);else if(!u&&p<y)for(i=p;i<y;i++)if((a=l[i])&&b(a,s)){u=a,l[i]=void 0,i===y-1&&y--,i===p&&p++;break}u=P(u,s,n,r),u&&u!==e&&(m>=h?e.appendChild(u):u!==c[m]&&(u===c[m+1]&&_(c[m]),e.insertBefore(u,c[m]||null)))}if(d)for(var m in f)f[m]&&N(f[m]);for(;p<=y;)(u=l[y--])&&N(u)}function N(e,t){var n=e._component;if(n)I(n,!t);else{e[X]&&e[X].ref&&e[X].ref(null),t||O(e);for(var r;r=e.lastChild;)N(r,t)}}function x(e,t,n){var r;for(r in n)t&&r in t||null==n[r]||m(e,r,n[r],n[r]=void 0,Z);if(t)for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||m(e,r,n[r],n[r]=t[r],Z)}function k(e){var t=e.constructor.name,n=te[t];n?n.push(e):te[t]=[e]}function C(e,t,n){var r=new e(t,n),o=te[e.name];if(L.call(r,t,n),o)for(var i=o.length;i--;)if(o[i].constructor===e){r.nextBase=o[i].nextBase,o.splice(i,1);break}return r}function D(e,t,n,r,o){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===U.syncComponentUpdates&&e.base?f(e):A(e,1,o)),e.__ref&&e.__ref(e))}function A(e,t,n,i){if(!e._disable){var s,u,c,l,f=e.props,d=e.state,b=e.context,y=e.prevProps||f,_=e.prevState||d,m=e.prevContext||b,g=e.base,w=e.nextBase,O=g||w,E=e._component;if(g&&(e.props=y,e.state=_,e.context=m,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(f,d,b)?s=!0:e.componentWillUpdate&&e.componentWillUpdate(f,d,b),e.props=f,e.state=d,e.context=b),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!s){for(e.render&&(u=e.render(f,d,b)),e.getChildContext&&(b=r(o(b),e.getChildContext()));p(u);)u=h(u,b);var P,S,x=u&&u.nodeName;if(a(x)){var k=v(u);c=E,c&&c.constructor===x&&k.key==c.__key?D(c,k,1,b):(P=c,c=C(x,k,b),c.nextBase=c.nextBase||w,c._parentComponent=e,e._component=c,D(c,k,0,b),A(c,1,n,!0)),S=c.base}else l=O,P=E,P&&(l=e._component=null),(O||1===t)&&(l&&(l._component=null),S=j(l,u,b,n||!g,O&&O.parentNode,!0));if(O&&S!==O&&c!==E){var W=O.parentNode;W&&S!==W&&(W.replaceChild(S,O),P||(O._component=null,N(O)))}if(P&&I(P,S!==O),e.base=S,S&&!i){for(var L=e,R=e;R=R._parentComponent;)(L=R).base=S;S._component=L,S._componentConstructor=L.constructor}}!g||n?Q.unshift(e):s||(e.componentDidUpdate&&e.componentDidUpdate(y,_,m),U.afterUpdate&&U.afterUpdate(e));var M,B=e._renderCallbacks;if(B)for(;M=B.pop();)M.call(e);$||i||T()}}function W(e,t,n,r){for(var o=e&&e._component,i=o,a=e,s=o&&e._componentConstructor===t.nodeName,u=s,c=v(t);o&&!u&&(o=o._parentComponent);)u=o.constructor===t.nodeName;return o&&u&&(!r||o._component)?(D(o,c,3,n,r),e=o.base):(i&&!s&&(I(i,!0),e=a=null),o=C(t.nodeName,c,n),e&&!o.nextBase&&(o.nextBase=e,a=null),D(o,c,1,n,r),e=o.base,a&&e!==a&&(a._component=null,N(a))),e}function I(e,t){U.beforeUnmount&&U.beforeUnmount(e);var n=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var r=e._component;if(r)I(r,t);else if(n){n[X]&&n[X].ref&&n[X].ref(null),e.nextBase=n,t&&(_(n),k(e));for(var o;o=n.lastChild;)N(o,!t)}e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function L(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}function R(e,t,n){return j(n,e,{},!1,t)}var U={},M=[],B=[],F={},H=function(e){return F[e]||(F[e]=e.toLowerCase())},G="undefined"!=typeof Promise&&Promise.resolve(),K=G?function(e){G.then(e)}:setTimeout,z={},X="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",Y={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},V={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},J=[],q={},Q=[],$=0,Z=!1,ee=!1,te={};r(L.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={});return n[e+t]||(n[e+t]=l(this,e,t))},setState:function(e,t){var n=this.state;this.prevState||(this.prevState=o(n)),r(n,a(e)?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),f(this)},forceUpdate:function(){A(this,2)},render:function(){}}),e.h=n,e.cloneElement=c,e.Component=L,e.render=R,e.rerender=d,e.options=U})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0;var r=n(3),o=n(43),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(24),s=n(30),u=n(28),c=(0,r.combineReducers)({auth:a.reducer,words:s.reducer,settings:u.reducer});t.store=(0,r.createStore)(c,(0,r.compose)((0,r.applyMiddleware)(i.default)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.config={USER_KEY:"user",TOKEN_KEY:"auth_token",API_ENDPOINT:"http://1.lobarev.com/api/",FB_CLIENT_ID:"1056329071099277",FB_REDIRECT_URI:"http://words.lobarev.com/login_auth",getFbDialogUrl:function(){return"https://www.facebook.com/v2.5/dialog/oauth?client_id="+this.FB_CLIENT_ID+"&redirect_uri="+this.FB_REDIRECT_URI+"&response_type=code&display=popup"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(14),o=n(46),i=n(45),a=n(44),s=n(13);n(15);n.d(t,"createStore",function(){return r.a}),n.d(t,"combineReducers",function(){return o.a}),n.d(t,"bindActionCreators",function(){return i.a}),n.d(t,"applyMiddleware",function(){return a.a}),n.d(t,"compose",function(){return s.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUserData=t.setUserData=t.getToken=t.updateToken=void 0,n(17);var r=n(6),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n(2),a=(t.updateToken=function(e,t){return{type:o.UPDATE_TOKEN,token:e,user:t}},t.getToken=function(e){return{type:o.GET_TOKEN,payload:fetch(i.config.API_ENDPOINT+"auth/facebook",{method:"post",body:JSON.stringify({clientId:i.config.FB_CLIENT_ID,redirectUri:i.config.FB_REDIRECT_URI,code:e}),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){return e.json()})}},t.setUserData=function(e){return{type:o.SET_USER_DATA,payload:e}});t.getUserData=function(e){return function(t){fetch(i.config.API_ENDPOINT+"user/show",{headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+e}}).then(function(e){return e.json()}).then(function(e){t(a(e))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getToken=t.getUser=t.get=void 0;var r=n(1);t.get=function(){return r.store.getState().auth},t.getUser=function(){return r.store.getState().auth.user},t.getToken=function(){return r.store.getState().auth.token}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UPDATE_TOKEN="auth/UPDATE_TOKEN",t.GET_TOKEN="auth/GET_TOKEN",t.SAVE_TOKEN="auth/SAVE_TOKEN",t.SET_USER_DATA="settings/SET_USER_DATA"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.isLogged=void 0;var r=n(2),o=n(1),i=n(4),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i);t.isLogged=function(){var e=o.store.getState().auth.token,t=o.store.getState().auth.user;return e||(e=localStorage.getItem(r.config.TOKEN_KEY),t=JSON.parse(localStorage.getItem(r.config.USER_KEY)),o.store.dispatch(a.updateToken(e,t))),!!e},t.logout=function(){localStorage.clear(),o.store.dispatch(a.updateToken(null,null))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_LOADING="words/SET_LOADING",t.FETCH_WORDS="words/FETCH_WORDS",t.PUSH_WORD="words/PUSH_WORD",t.EDIT_WORD="words/EDIT_WORD",t.EDIT_WORD_SUCCESS="words/EDIT_WORD_SUCCESS",t.DELETE_WORD="words/DELETE_WORD",t.SET_EDITABLE_WORD="words/SET_EDITABLE_WORD",t.UNSET_EDITABLE_WORD="words/UNSET_EDITABLE_WORD",t.TOGGLE_EDIT_MODE="words/TOGGLE_EDIT_MODE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteWord=t.addWord=t.editWord=t.get=t.toggleEditMode=t.unsetEditableWord=t.setEditableWord=t.deleteWordSuccess=t.editWordSuccess=t.saveWord=t.pushWord=t.fetchWords=t.setLoading=void 0,n(17);var r=n(8),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=n(2),a=t.setLoading=function(){return{type:o.SET_LOADING}},s=t.fetchWords=function(e){return{type:o.FETCH_WORDS,payload:e}},u=t.pushWord=function(e){return{type:o.PUSH_WORD,id:e.id,text_en:e.text_en,text_ru:e.text_ru}},c=t.saveWord=function(e,t,n){return{type:o.EDIT_WORD,id:e,text_en:t,text_ru:n}},l=t.editWordSuccess=function(e){return{type:o.EDIT_WORD_SUCCESS,id:e}},f=t.deleteWordSuccess=function(e){return{type:o.DELETE_WORD,id:e}},d=(t.setEditableWord=function(e,t,n){return{type:o.SET_EDITABLE_WORD,id:e,text_en:t,text_ru:n}},t.unsetEditableWord=function(){return{type:o.UNSET_EDITABLE_WORD}});t.toggleEditMode=function(){return{type:o.TOGGLE_EDIT_MODE}},t.get=function(e){return function(t){t(a()),fetch(i.config.API_ENDPOINT+"words",{headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+e}}).then(function(e){return e.json()}).then(function(e){t(s(e))})}},t.editWord=function(e,t,n,r){return function(o){o(c(e,t,n)),fetch(i.config.API_ENDPOINT+"words/"+e,{method:"PUT",body:JSON.stringify({text_en:t,text_ru:n}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Authorization:"Bearer "+r}}).then(function(e){return e.json()}).then(function(t){o(l(e)),o(d())})}},t.addWord=function(e,t,n){return function(r){r(a()),fetch(i.config.API_ENDPOINT+"words",{method:"post",body:JSON.stringify({text_en:e,text_ru:t}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Authorization:"Bearer "+n}}).then(function(e){return e.json()}).then(function(e){r(u(e.word))})}},t.deleteWord=function(e,t){return function(n){n(a()),fetch(i.config.API_ENDPOINT+"words/"+e,{method:"DELETE",headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+t}}).then(function(e){return e.json()}).then(function(t){n(f(e))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;var r=n(1);t.get=function(){return r.store.getState().words}},function(e,t,n){"use strict";var r=n(41),o=r.a.Symbol;t.a=o},function(e,t,n){"use strict";function r(e){if(!n.i(a.a)(e)||n.i(o.a)(e)!=s)return!1;var t=n.i(i.a)(e);if(null===t)return!0;var r=f.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&l.call(r)==d}var o=n(35),i=n(37),a=n(42),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=l.call(Object);t.a=r},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.a=r},function(e,t,n){"use strict";function r(e,t,i){function u(){_===v&&(_=v.slice())}function c(){return y}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),_.push(e),function(){if(t){t=!1,u();var n=_.indexOf(e);_.splice(n,1)}}}function f(e){if(!n.i(o.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,y=b(y,e)}finally{m=!1}for(var t=v=_,r=0;r<t.length;r++)t[r]();return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");b=e,f({type:s.INIT})}function p(){var e,t=l;return e={subscribe:function(e){function n(){e.next&&e.next(c())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[a.a]=function(){return this},e}var h;if("function"==typeof t&&void 0===i&&(i=t,t=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var b=e,y=t,v=[],_=v,m=!1;return f({type:s.INIT}),h={dispatch:f,subscribe:l,getState:c,replaceReducer:d},h[a.a]=p,h}var o=n(12),i=n(47),a=n.n(i);n.d(t,"b",function(){return s}),t.a=r;var s={INIT:"@@redux/INIT"}},function(e,t,n){"use strict"},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return v.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function l(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&m(e))this._bodyArrayBuffer=l(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!g(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=l(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){t=t||{};var n=t.body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function b(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t}function y(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],m=function(e){return e&&DataView.prototype.isPrototypeOf(e)},g=ArrayBuffer.isView||function(e){return e&&_.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,r){e=t(e),r=n(r);var o=this.map[e];this.map[e]=o?o+","+r:r},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,r){this.map[t(e)]=n(r)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},v.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},f.call(p.prototype),f.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var O=[301,302,303,307,308];y.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=p,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,r){var o=new p(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:b(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new y(t,e))},i.onerror=function(){r(new TypeError("Network request failed"))},i.ontimeout=function(){r(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials&&(i.withCredentials=!0),"responseType"in i&&v.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";var r=n(0),o=n(26);(0,r.render)((0,r.h)(o.Router,null),document.body)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=n(3),l=n(1),f=n(9),d=r(f),p=n(10),h=r(p),b=n(5),y=r(b),v=n(32),_=n(33),m="click"in window?"click":"touchend";t.App=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.setState(h.get()),l.store.subscribe(function(){e.setState(h.get())}),e.boundActionCreators=(0,c.bindActionCreators)(d,l.store.dispatch),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.token=y.getToken(),0===Object.keys(this.state.items).length&&this.boundActionCreators.get(this.token)}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),!this.state.isLoading){var t=+e.target.elements.id.value,n=e.target.elements.text_en.value,r=e.target.elements.text_ru.value;n&&r&&(t?this.boundActionCreators.editWord(t,n,r,this.token):this.boundActionCreators.addWord(n,r,this.token),e.target.reset(),this.toggleEditMode())}}},{key:"handleSetEditableWord",value:function(e){if(!this.state.isLoading){var t=this.state.items[e];this.state.editMode||this.toggleEditMode(),t&&this.boundActionCreators.setEditableWord(t.id,t.text_en,t.text_ru)}}},{key:"handleDelete",value:function(e){this.state.isLoading||(this.boundActionCreators.deleteWord(e,this.token),e===this.state.editableWord.id&&this.boundActionCreators.unsetEditableWord())}},{key:"toggleEditMode",value:function(e){e&&e.stopPropagation(),this.state.editMode||window.addEventListener(m,this.handleClickOutOfForm()),this.boundActionCreators.toggleEditMode(),this.state.editableWord.id&&this.boundActionCreators.unsetEditableWord()}},{key:"handleClickOutOfForm",value:function(){var e=this;return function(){return function t(n){n.stopPropagation(),console.log("click"),n.target.closest(".app-form")||n.target.closest(".header-edit")||(e.state.editMode&&e.toggleEditMode(),window.removeEventListener(m,t))}}()}},{key:"render",value:function(e,t){var n=t.items,r=t.editableWord,o=Object.keys(n);return(0,u.h)("div",{id:"wordsApp",className:this.state.editMode?"is-editMode":""},(0,u.h)("div",{className:"app-header"},(0,u.h)("div",{className:"header-title"},"Words"),this.state.editMode?(0,u.h)("button",{className:"header-edit icon-close",onClick:this.toggleEditMode.bind(this)}):(0,u.h)("button",{className:"header-edit",onClick:this.toggleEditMode.bind(this)},(0,u.h)("span",{className:"icon-add"})),(0,u.h)("button",{className:"header-settings icon-gear",onClick:e.router.navigate.bind(this,"/settings")}),this.state.isLoading?(0,u.h)("div",{className:"header-loading"},"Loading..."):""),(0,u.h)(v.WordForm,{handleSubmit:this.handleSubmit.bind(this),word:r}),(0,u.h)(_.WordsList,{words:n,editableWord:r,handleDelete:this.handleDelete.bind(this),handleSetEditableWord:this.handleSetEditableWord.bind(this),router:e.router}),(0,u.h)("div",{className:"app-learButton"},(0,u.h)("button",{className:"btn btn--big btn--green",onClick:e.router.navigate.bind(this,"/word#"+o[o.length-1])},"Start learning")))}}]),t}(u.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AuthProcess=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(21);t.AuthProcess=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return(0,u.authenticate)(),e}return i(t,e),a(t,[{key:"render",value:function(e,t){return(0,s.h)("div",{className:"app-authenticate"},"Please wait...")}}]),t}(s.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authenticate=void 0;var r=n(2),o=n(25);t.authenticate=function(){var e=(0,o.getQueryParams)();e.code&&fetch(r.config.API_ENDPOINT+"auth/facebook",{method:"post",body:JSON.stringify({clientId:r.config.FB_CLIENT_ID,redirectUri:r.config.FB_REDIRECT_URI,code:e.code}),headers:{"Content-Type":"application/json;charset=UTF-8"}}).then(function(e){return e.json()}).then(function(e){e.token&&(localStorage.setItem(r.config.TOKEN_KEY,e.token),window.close())})}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(2),c=n(1),l=n(4),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l);t.Login=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"fbLogin",value:function(){this.signinWin=window.open(u.config.getFbDialogUrl(),"SignIn","width=780,height=410,toolbar=0,scrollbars=0,status=0,resizable=0,location=0,menuBar=0,left=100,top=100"),this.signinWin.focus(),this.checkLogged()}},{key:"checkLogged",value:function(){var e=this;setTimeout(function(){if(e.signinWin.closed){e.props.router.navigate("/");var t=localStorage.getItem(u.config.TOKEN_KEY),n=JSON.parse(localStorage.getItem(u.config.USER_KEY));if(c.store.dispatch(f.updateToken(t,n)),t&&3===t.split(".").length)try{var r=t.split(".")[1],o=r.replace("-","+").replace("_","/");return console.log(window.atob(o)),JSON.parse(window.atob(o))}catch(e){console.log(e)}}else e.checkLogged()},1e3)}},{key:"render",value:function(e,t){return(0,s.h)("div",{className:"app-auth"},(0,s.h)("div",{className:"auth-wrapper"},(0,s.h)("h1",{className:"auth-title"},"Words Keeper"),(0,s.h)("p",{className:"auth-desc"},"Keep your unknown words into one place"),(0,s.h)("button",{className:"btn btn--big btn--facebook",onClick:this.fbLogin.bind(this)},"Login with Facebook")))}}]),t}(s.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Logout=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(7);t.Logout=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),a(t,[{key:"logout",value:function(){(0,u.logout)(),this.props.router.navigate("/login")}},{key:"render",value:function(e,t){return(0,s.h)("button",{className:"btn btn--black app-logout",onClick:this.logout.bind(this)},"Logout")}}]),t}(s.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(6),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),a=t.initialState={token:null,user:{id:null,name:null,email:null,avatar:null}};t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case i.UPDATE_TOKEN:return r({},e,{token:t.token});case i.SET_USER_DATA:return r({},e,{user:r({},t.payload)});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getQueryParams=function(e){e=e||window.location.search,e=e.split("+").join(" ");for(var t={},n=void 0,r=/[?&]?([^=]+)=([^&]*)/g;n=r.exec(e);)t[decodeURIComponent(n[1])]=decodeURIComponent(n[2]);return t}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(7),c=n(19),l=n(22),f=n(20),d=n(29),p=n(31),h=function(){var e={"/":c.App,"/login":l.Login,"/login_auth":f.AuthProcess,"/settings":d.Settings,"/word":p.Word};return(0,u.isLogged)()||(e["/"]=l.Login,e["/settings"]=l.Login),e};t.Router=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.updatePath(),window.addEventListener("popstate",e.handleHashChange.bind(e)),e}return i(t,e),a(t,[{key:"handleHashChange",value:function(e){this.updatePath()}},{key:"updatePath",value:function(e){e&&window.history.pushState(null,"",e),this.setState({path:e||window.location.pathname})}},{key:"render",value:function(e,t){var n=h(),r=n[this.state.path.split("#")[0]];return r?(0,s.h)(r,{router:{navigate:this.updatePath.bind(this)},path:this.state.path}):(0,s.h)("div",{className:"app-notFound"},"404 Not found!")}}]),t}(s.Component)},function(e,t,n){"use strict"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=void 0;var r=n(27),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(r),t.initialState={isLoading:!1});t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return arguments[1].type,e}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=n(3),l=n(23),f=n(1),d=n(5),p=r(d),h=n(4),b=r(h);t.Settings=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.setState(p.get()),f.store.subscribe(function(){e.setState(p.get())}),e.boundActionCreators=(0,c.bindActionCreators)(b,f.store.dispatch),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.token=p.getToken(),this.state.user.id||this.boundActionCreators.getUserData(this.token)}},{key:"render",value:function(e,t){var n=this.state.user,r="background-image: url("+n.avatar+")",o=(0,u.h)("div",{className:"app-settings"},(0,u.h)("div",{className:"settings-userInfo"},(0,u.h)("span",{className:"userInfo-avatar",style:r}),(0,u.h)("h3",{className:"userInfo-name"},n.name)),(0,u.h)("br",null),(0,u.h)(l.Logout,{router:e.router}));return(0,u.h)("div",{id:"wordsApp"},(0,u.h)("div",{className:"app-header"},(0,u.h)("button",{className:"btn header-back icon-arrow-left",onClick:e.router.navigate.bind(this,"/")},"Words"),(0,u.h)("div",{className:"header-title"},"Settings")),n.id?o:(0,u.h)("div",{className:"app-loading"},"Loading"))}}]),t}(u.Component)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(8),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=t.initialState={items:{},isLoading:!1,editableWord:{},editMode:!1,isFlipped:!1};t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n=void 0;switch(t.type){case a.SET_LOADING:return o({},e,{isLoading:!0});case a.FETCH_WORDS:return o({},e,{isLoading:!1,items:o({},t.payload)});case a.PUSH_WORD:return o({},e,{isLoading:!1,items:o({},e.items,r({},t.id,{id:t.id,text_en:t.text_en,text_ru:t.text_ru}))});case a.EDIT_WORD:return o({},e,{isLoading:!0,items:o({},e.items,r({},t.id,o({},e.items[t.id],{text_en:t.text_en,text_ru:t.text_ru})))});case a.EDIT_WORD_SUCCESS:return e.items[t.id]?o({},e,{isLoading:!1}):e;case a.DELETE_WORD:return n=o({},e,{isLoading:!1}),delete n.items[t.id],n;case a.SET_EDITABLE_WORD:return o({},e,{editableWord:Object.assign({},e.editableWord,{id:t.id,text_en:t.text_en,text_ru:t.text_ru})});case a.UNSET_EDITABLE_WORD:return o({},e,{editableWord:{}});case a.TOGGLE_EDIT_MODE:return o({},e,{editMode:!e.editMode});default:return e}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Word=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=n(3),f=n(1),d=n(9),p=r(d),h=n(10),b=r(h),y=n(5),v=r(y);t.Word=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.boundActionCreators=(0,l.bindActionCreators)(p,f.store.dispatch),e.token=v.getToken(),e.boundActionCreators.get(e.token),e.setState(b.get()),f.store.subscribe(function(){e.setState(b.get())}),e}return a(t,e),u(t,[{key:"componentDidMount",value:function(){}},{key:"toggleFlipCard",value:function(){this.setState(s({},this.state,{isFlipped:!this.state.isFlipped}))}},{key:"handleNavigationClick",value:function(e){this.state.isFlipped&&this.toggleFlipCard(),this.props.router.navigate("/word#"+e)}},{key:"render",value:function(e){var t=window.location.hash.slice(1),n=this.state.items[t];if(n){var r=Object.keys(this.state.items),o=r[r.indexOf(t)-1],i=r[r.indexOf(t)+1],a=this.state.isFlipped?"word-card is-flipped":"word-card";return(0,c.h)("div",{id:"wordsApp",className:"app-word"},(0,c.h)("div",{className:"app-header"},(0,c.h)("button",{className:"btn header-back icon-arrow-left",onClick:e.router.navigate.bind(this,"/")},"Words"),(0,c.h)("div",{className:"header-title"},"Words Learning")),(0,c.h)("div",{className:"word-container"},(0,c.h)("div",{className:a,onClick:this.toggleFlipCard.bind(this)},(0,c.h)("div",{className:"card-container"},(0,c.h)("div",{className:"card-front"},(0,c.h)("div",{className:"card-lang"},"en"),n.text_en),(0,c.h)("div",{className:"card-back"},(0,c.h)("div",{className:"card-lang"},"ru"),n.text_ru))),(0,c.h)("div",{className:"word-navigation"},i&&(0,c.h)("button",{className:"btn btn--big btn--green btn--prev",onClick:this.handleNavigationClick.bind(this,i)},(0,c.h)("span",{className:"icon-arrow-left"})," Prev"),o&&(0,c.h)("button",{className:"btn btn--big btn--green btn--next",onClick:this.handleNavigationClick.bind(this,o)},"Next ",(0,c.h)("span",{className:"icon-arrow-right"})))))}}}]),t}(c.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.WordForm=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0);t.WordForm=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(e){return(0,s.h)("div",{className:"app-form"},(0,s.h)("form",{onSubmit:e.handleSubmit.bind(this),className:"form-holder"},(0,s.h)("input",{type:"hidden",name:"id",value:e.word.id||""}),(0,s.h)("div",{className:"form-field"},(0,s.h)("input",{type:"text",name:"text_en",value:e.word.text_en||"",maxlength:"50",placeholder:"Phrase"})),(0,s.h)("div",{className:"form-field"},(0,s.h)("input",{type:"text",name:"text_ru",value:e.word.text_ru||"",maxlength:"50",placeholder:"Translation"})),(0,s.h)("div",{className:"form-field"},(0,s.h)("button",{type:"submit",className:"form-button"},e.word.id?"Save":"Add word"))))}}]),t}(s.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.WordsList=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),u=n(34);t.WordsList=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(e,t){var n=Object.keys(e.words).sort(function(e,t){return t-e}).map(function(t){var n=e.words[t];return(0,s.h)("div",{className:"wordsList-itemHolder"},(0,s.h)(u.WordSwipe,{children:(0,s.h)("div",{className:"wordsList-item"},(0,s.h)("span",{className:"item-col"},n.text_en),(0,s.h)("span",{className:"item-col"},n.text_ru)),buttons:[{text:"Edit",onPress:e.handleSetEditableWord.bind(null,n.id),className:"swipe-edit"},{text:"Delete",onPress:e.handleDelete.bind(null,n.id),className:"swipe-delete"}]}))});return(0,s.h)("div",{className:"app-wordsList"},n)}}]),t}(s.Component)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.WordSwipe=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0);t.WordSwipe=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.setState({isOpened:!1,isAnimated:!1}),e.start={x:0,y:0},e.end={x:0,y:0},e.deltaX=0,e.deltaY=0,e.controlsWidth=0,e}return i(t,e),a(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"attachTapDocumentListener",value:function(){document.body.addEventListener("touchstart",this.closeClick())}},{key:"closeClick",value:function(){var e=this;return function(){return function t(n){"app-swipe-btn"!==n.target.name&&(e.closeControls(),document.body.removeEventListener("touchstart",t))}}()}},{key:"closeControls",value:function(){var e=this.base||this.nextBase;e.children.length>0&&(e.children[0].style.right=0),this.deltaX=0,this.start.x=0,this.start.y=0,this.end.x=0,this.end.y=0,this.setState({isOpened:!1})}},{key:"handleTouchStart",value:function(e){this.state.isOpened||this.setState({isAnimated:!1}),this.start.x=this.end.x=e.touches[0].pageX,this.start.y=this.end.y=e.touches[0].pageY,this.controlsWidth=e.currentTarget.children[1].offsetWidth}},{key:"handleTouchMove",value:function(e){var t=void 0;this.end.x=e.touches[0].pageX,this.end.y=e.touches[0].pageY,this.deltaX=this.start.x-this.end.x,t=this.deltaX,"LEFT"===this.calculateDirection()&&(e.preventDefault(),this.deltaX>=0&&(this.deltaX>this.controlsWidth&&(t=this.controlsWidth+(this.deltaX-this.controlsWidth)*Math.tan(.3)),e.currentTarget.children[0].style.right=t+"px"))}},{key:"handleTouchEnd",value:function(e){this.setState({isAnimated:!0}),this.deltaX<this.controlsWidth/3?this.closeControls():(this.state.isOpened||this.attachTapDocumentListener(),this.setState({isOpened:!0}),e.currentTarget.children[0].style.right=this.controlsWidth+"px",this.start.x=this.controlsWidth)}},{key:"handleButtonClick",value:function(e){var t=this;return function(n){n.stopPropagation(),t.closeControls(),e&&e()}}},{key:"caluculateAngle",value:function(){var e=this.start.x-this.end.x,t=this.end.y-this.start.y,n=Math.atan2(t,e),r=Math.round(180*n/Math.PI);return r<0&&(r=360-Math.abs(r)),r}},{key:"calculateDirection",value:function(){var e=this.caluculateAngle();return e<=45&&e>=0?"LEFT":e<=360&&e>=315?"LEFT":e>=135&&e<=225?"RIGHT":e>45&&e<135?"DOWN":"UP"}},{key:"render",value:function(e,t){var n=this,r=this.state.isAnimated?"swipe is-animated":"swipe",o=e.buttons.map(function(e){return(0,s.h)("button",{className:"swipe-btn "+e.className,onClick:n.handleButtonClick(e.onPress),name:"app-swipe-btn"},e.text)});return(0,s.h)("div",{className:r,onTouchMove:this.handleTouchMove.bind(this),onTouchStart:this.handleTouchStart.bind(this),onTouchEnd:this.handleTouchEnd.bind(this)},(0,s.h)("div",{className:"swipe-content"},e.children),(0,s.h)("div",{className:"swipe-controls"},o))}}]),t}(s.Component)},function(e,t,n){"use strict";function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?n.i(i.a)(e):n.i(a.a)(e)}var o=n(11),i=n(38),a=n(39),s="[object Null]",u="[object Undefined]",c=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(16))},function(e,t,n){"use strict";var r=n(40),o=n.i(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){"use strict";function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0}catch(e){}var r=s.call(e);return t?e[u]=n:delete e[u],r}var o=n(11),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,u=o.a?o.a.toStringTag:void 0;t.a=r},function(e,t,n){"use strict";function r(e){return i.call(e)}var o=Object.prototype,i=o.toString;t.a=r},function(e,t,n){"use strict";function r(e,t){return function(n){return e(t(n))}}t.a=r},function(e,t,n){"use strict";var r=n(36),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}t.a=r},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var o=r();o.withExtraArgument=r,t.default=o},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var s=e(n,r,a),u=s.dispatch,c=[],l={getState:s.getState,dispatch:function(e){return u(e)}};return c=t.map(function(e){return e(l)}),u=o.a.apply(void 0,c)(s.dispatch),i({},s,{dispatch:u})}}}var o=n(13);t.a=r;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},i=0;i<n.length;i++){var a=n[i],s=e[a];"function"==typeof s&&(o[a]=r(s,t))}return o}t.a=o},function(e,t,n){"use strict";function r(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.b.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.b.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function i(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var a=t[i];"function"==typeof e[a]&&(n[a]=e[a])}var s,u=Object.keys(n);try{o(n)}catch(e){s=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var o=!1,i={},a=0;a<u.length;a++){var c=u[a],l=n[c],f=e[c],d=l(f,t);if(void 0===d){var p=r(c,t);throw new Error(p)}i[c]=d,o=o||d!==f}return o?i:e}}var a=n(14);n(12),n(15);t.a=i},function(e,t,n){e.exports=n(48)},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(49),a=function(e){return e&&e.__esModule?e:{default:e}}(i);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=(0,a.default)(o);t.default=s}).call(t,n(16),n(50)(e))},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports=n(18)}]);